{
    "componentChunkName": "component---src-pages-markdown-remark-frontmatter-slug-tsx",
    "path": "/posts/react-hoc/",
    "result": {"data":{"markdownRemark":{"html":"<p>ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ëŠ” Reactì˜ êµ¬ì¡°ì  íŠ¹ì„±ì—ì„œ ë‚˜ì˜¤ëŠ” íŒ¨í„´ìœ¼ë¡œ, <strong>ì»´í¬ë„ŒíŠ¸ ë¡œì§ì„ ì¬ì‚¬ìš©</strong>í•˜ê¸° ìœ„í•œ Reactì˜ ê³ ê¸‰ ê¸°ìˆ ì…ë‹ˆë‹¤.</p>\n<p>ì¼ë°˜ì ì¸ ì»´í¬ë„ŒíŠ¸ëŠ” ë¶€ëª¨ë¡œë¶€í„° ë°›ì€ propsë¥¼ UIì— ë°˜ì˜í•˜ëŠ” ë°˜ë©´, ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ëŠ” <strong>ì»´í¬ë„ŒíŠ¸</strong>ë¥¼ ì „ë‹¬ë°›ì•„ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.</p>\n<p>ì»´í¬ë„ŒíŠ¸ëŠ” Reactì—ì„œ ì½”ë“œ ì¬ì‚¬ìš©ì˜ ê¸°ë³¸ ë‹¨ìœ„ ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ, ì–´ë–¤ íŒ¨í„´ì— ëŒ€í•´ì„œëŠ” ì¼ë°˜ì ì¸ ì»´í¬ë„ŒíŠ¸ ë§Œìœ¼ë¡œ ì½”ë“œì˜ ì¤‘ë³µì„ ì¤„ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>\n<p><strong>ê³ ì°¨ ì»´í¬ë„ŒíŠ¸</strong>ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì…ë ¥ë°›ì•„ ì–´ë–¤ ê¸°ëŠ¥ì„ ìˆ˜í–‰ í›„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\në°˜ë³µì ì¸ ë¡œì§ì„ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì´ìš©í•´ ì¶”ìƒí™”í•˜ë©´ <strong>ê³µí†µê¸°ëŠ¥ì„ ë¶„ë¦¬</strong>í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n<br></p>\n<h2>ê³ ì°¨ í•¨ìˆ˜</h2>\n<p>ê³ ì°¨í•¨ìˆ˜ëŠ” ê³ ì°¨ í•¨ìˆ˜ ë‚´ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œ ë’¤, ì¸ìë¡œ ë°›ì€ í•¨ìˆ˜ë¥¼ í•„ìš”í•œ ì‹œì ì— í˜¸ì¶œí•©ë‹ˆë‹¤.\nì´ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í•¨ìˆ˜ê°€ <strong>ì¼ê¸‰ ê°ì²´</strong>ì´ê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•œ ë‚´ìš©ì…ë‹ˆë‹¤.</p>\n<ul>\n<li>ì¼ê¸‰ ê°ì²´\n<ul>\n<li>ë³€ìˆ˜ì— í• ë‹¹(assignment)í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì¸ì(argument)ë¡œ ì „ë‹¬ë  ìˆ˜ ìˆë‹¤.</li>\n<li>ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ê²°ê³¼ë¡œì„œ returnë  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br>\n<hr>\n<br>\n<h2>ì¼ë‹¨ ë¶€ë”ªì³ë³´ë©° ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ ì‘ì„±</h2>\n<p>ìœ„ì—ë„ ì–¸ê¸‰í–ˆë“¯ì´ ì¼ë°˜ì ì¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì¤„ì¼ ìˆ˜ ì—†ëŠ” ê³µí†µì ì¸ ìš”ì†Œë¥¼ ì¤„ì´ê¸° ìœ„í•´ì„œ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì—ì„œ ê³µí†µì ì¸ ë¶€ë¶„ì´ ì–´ëŠ ë¶€ë¶„ì¸ì§€ ê³ ë¯¼í•´ ë³¼ í•„ìš”ê°€ ìˆì—ˆë‹¤..</p>\n<p>ì´ì œê¹Œì§€ ëª‡ ê°€ì§€ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í–ˆì„ ë•Œ, ê°œì¸ì ì¸ ê²½í—˜ìœ¼ë¡œëŠ” ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•´ ì»´í¬ë„ŒíŠ¸ ê°œë°œì„ ì§„í–‰í•  ë•Œ, <strong>ë¡œê·¸ì¸ ìƒíƒœ</strong>ì— ë”°ë¼ì„œ ë‹¤ë¥¸ UIë¥¼ ë³´ì—¬ì£¼ê±°ë‚˜, <strong>data fetching</strong>ì„ í•´ì„œ UIë¥¼ ë³´ì—¬ì¤˜ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆì„ ê²ƒ ê°™ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.</p>\n<p>ê·¸ë˜ì„œ ì¼ë‹¨ ê°„ë‹¨í•˜ê²Œ <strong>redux</strong>ë¥¼ ì´ìš©í•˜ì—¬ <strong>TDD</strong> ë°©ì‹ìœ¼ë¡œ ì¼ë‹¨ ë¶€ë”ªì³ë³´ë©° ê°œë°œì„ í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>\n<br>\n<p>ë¨¼ì €, <strong>redux toolkit</strong> ì˜ <code class=\"language-text\">createSlice</code> ë¥¼ ì´ìš©í•´ì„œ ê°„ë‹¨í•œ reducerë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ì— ì§‘ì¤‘í•˜ê¸° ìœ„í•´ í•´ë‹¹ ë‚´ìš©ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>\n<p>í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render<span class=\"token punctuation\">,</span> screen <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./test-utils'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AnyAction <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> MyPage <span class=\"token keyword\">from</span> <span class=\"token string\">'./MyPage'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> authReducer <span class=\"token keyword\">from</span> <span class=\"token string\">'./store/auth'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user data'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'default data'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">authReducer</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> AnyAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> user<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'login HOC'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'unlogin'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyPage</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> elem <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">please login</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">i</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>elem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p>í…ŒìŠ¤íŠ¸ ì„±ê³µì„ ìœ„í•œ ì½”ë“œ ì‘ì„±</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useSelector <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-redux'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> UserState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./store/auth'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> RootState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./store'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">MyPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useSelector</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>RootState<span class=\"token punctuation\">,</span> UserState<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">please login</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">login done</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> MyPage<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 534px; margin: 2rem 0\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACq0lEQVQ4y22UyW7acBDGeZGqZd+M9w1jjI1tbDCLQyAhW5MqSZNG6qHP0VMr9dRbpR77jF81g0iIyOEvj8fjzx+/maEQ/v6M6M8XJP++Iv77BEHoQhAdqPoAwXCGcbZGEM5hWiEW+Tk8P4NhDjHJ1hBlF7WGjkbLfD6FwfdrhD9ukfx6QPjzDrrhw3FH8PwJZosNLi7vkc1O4XpjrE9vEI1yuF6K4/VHqLp/KFh6J6FrRMjiFbpayMXzfIN4lKNUkVEsSyhVFFRqKj6UJJSrKqp1jfM7sXrTeBFsCBZqTR2lloqmbMO0Q8hqH7YTQTN8KKrHbg1rCEXzoJsB53v9BC3BfiXGgvQVKg6iGYJwBqsbYTJdI4oX7KDZNtFsW3x2L1Pc7tgH7liQEgTXCybwoymL+0GGQZBBELvsgpxRLCkuOpLDIruzL0b3Bb5pmqi2dTREC5ruQ9EGcNyEO01CBmHQ+rCcCIo+OBDad8qCxYrMiVpd55ia8b4ootrQOV8pKaiWVVSK2+vuZUJSqWmo1l+aUxglS5xf3kM3h5jNN9ic32Ken2N9cgNBctDu9aFMYyj5COoygbZK0dF60I2AeROaOMkZBX2gkKTHuP70hHh0xENr2RF3muauJdkQggGUdQrlJIVylsK8nEKxBui5CWMZZytksxPmy4JxcoSzizuMJyuEcQ5JdrkR5aqCZseG5ofQpgmMPIW9mkKfpxBVl1kTY6e3XYKOuG1Wgdbp6voRy9UVbwX9fHLdkXq8gkEwRd9NEQ8XmCQrtJs2MyM3W4YqD/tzU8jhw+M3HB1f8XzRw10xFXXdETNKxks4/QSy5h2s26uxIbDEi6af2JEzmjuKd38SVEPzSVuyP+BvnQKtGQElbhTTVZR7LNQSLH4mqx7nJKX/5nbsC/4HqV3ziqayWywAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"test1\"\n        title=\"test1\"\n        src=\"/static/939fe1c0952157792198d7dc1803608d/a07a7/test1.png\"\n        srcset=\"/static/939fe1c0952157792198d7dc1803608d/772e8/test1.png 200w,\n/static/939fe1c0952157792198d7dc1803608d/e17e5/test1.png 400w,\n/static/939fe1c0952157792198d7dc1803608d/a07a7/test1.png 534w\"\n        sizes=\"(max-width: 534px) 100vw, 534px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<p>ë¬´ì‚¬íˆ ì„±ê³µí–ˆìŠµë‹ˆë‹¤ ! ê·¸ëŸ¬ë‚˜ ì €í¬ê°€ ì›í•˜ëŠ” ê²ƒì€ ì´ëŸ¬í•œ ë‚´ìš©ì´ ì•„ë‹™ë‹ˆë‹¤. ì¢€ ë” ì»´í¬ë„ŒíŠ¸ê°€ í•˜ëŠ” ì¼ì„ ëª…í™•íˆ í•˜ê³ , <strong>ê³µí†µì ì¸ ìš”ì†Œ</strong>ë¥¼ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì´ìš©í•´ ì œê±°í•˜ê³ ì í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ <strong>withAuth</strong>ë¼ëŠ” HOCë¥¼ ë§Œë“¤ì–´ë³´ê³ ì í•©ë‹ˆë‹¤. ë¨¼ì € í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê² ìŠµë‹ˆë‹¤ !</p>\n<br>\n<ul>\n<li>\n<p>í…ŒìŠ¤íŠ¸ ì½”ë“œ ìˆ˜ì •</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render<span class=\"token punctuation\">,</span> screen<span class=\"token punctuation\">,</span> testStore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./test-utils'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> withLogin <span class=\"token keyword\">from</span> <span class=\"token string\">'./withLogin'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AnyAction <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> MyPage <span class=\"token keyword\">from</span> <span class=\"token string\">'./MyPage'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> authReducer<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> login <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./store/auth'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'redux auth'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'default auth data'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">authReducer</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> AnyAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> user<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dispatch login'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">authReducer</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token function\">login</span><span class=\"token punctuation\">(</span><span class=\"token string\">'jiyong'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      user<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'jiyong'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'login HOC'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> PageWithAuth <span class=\"token operator\">=</span> <span class=\"token function\">withLogin</span><span class=\"token punctuation\">(</span>MyPage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'unlogin'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">PageWithAuth</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">please login</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">i</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'login'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">PageWithAuth</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    testStore<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">login</span><span class=\"token punctuation\">(</span><span class=\"token string\">'jiyong'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">jiyong</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">i</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>ìœ„ì˜ í…ŒìŠ¤íŠ¸ëŠ” ì˜¬ë°”ë¥´ê²Œ <strong>reducer</strong>ê°€ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸</li>\n<li>ì•„ë˜ì˜ í…ŒìŠ¤íŠ¸ëŠ” ë¡œê·¸ì¸ ìƒí™©ì— ë”°ë¥¸ <strong>HOC</strong> í…ŒìŠ¤íŠ¸</li>\n</ul>\n</li>\n</ul>\n<br>\n<p>ë¨¼ì € ìœ„ì— ì‚¬ìš©ë˜ì—ˆë˜ <code class=\"language-text\">MyPage</code> ì»´í¬ë„ŒíŠ¸ë¥¼ ë¡œê·¸ì¸ì´ ë˜ì–´ìˆë“  ì•ˆë˜ì–´ìˆë“  ê´€ì‹¬ì—†ê³ , ê·¸ëƒ¥ ì „ë‹¬í•´ì£¼ëŠ”ë°ë¡œ ë Œë”ë§ í•´ì£¼ëŠ” ì—­í• ë¡œ ë³€ê²½ì‹œí‚¤ê² ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  <strong>withLogin</strong> ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í•˜ì—¬ ë¡œê·¸ì¸ì˜ ìƒí™©ì— ë”°ë¼ ë Œë”ë§í•´ì¤„ ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>\n<p>MyPage ì»´í¬ë„ŒíŠ¸ ìˆ˜ì •</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n  user<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">MyPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Props<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">hi! </span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> MyPage<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p><strong>withLogin</strong> ì‘ì„±</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ComponentType <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useSelector <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-redux'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> UserState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./store/auth'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> RootState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./store'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">withLogin</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">P</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>ChildComponent<span class=\"token operator\">:</span> ComponentType<span class=\"token operator\">&lt;</span><span class=\"token constant\">P</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Wrapper</span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> Omit<span class=\"token operator\">&lt;</span><span class=\"token constant\">P</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'user'</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useSelector</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>RootState<span class=\"token punctuation\">,</span> UserState<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ChildComponent</span></span> <span class=\"token attr-name\">user</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">}</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">(</span>props <span class=\"token keyword\">as</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">please login</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> withLogin<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 576px; margin: 2rem 0\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACmUlEQVQ4y41U227aQBT0n1RqwBhsML7fuNiATcAXAgkxJW2aVG0VKVUfKuW5v9Ov6Es/bKpziN26ykMfDuyud8czs3MsZD+fEP94xPrXE7xve6gdH319hGS5w8fPX7FO95gtChzffkKal4iXW+SbA5SBj07XgtSz638qwbovsPhyxO77A8L9FpYRYZFssFztEEYZTDvCUJ/ADxIYVgjdnMJ25gzS7hgNUCqh/UqD2vPhmDOM/CW8UYJplMLx5nyAmPTVE5uhPobcdyHJNgbDgOfVs5qhpNgQuyZaqgXdDmE5M2jGhNlQOd6C12jsBXENQoC0Tv9NwJ4Nue9B1nyYTsQAk3DNm0meMvB4bLtzPlDJFCWTx6L0j2T6IYC8KFnqeLrC9vIGXdnhQ9XmavxSNRhWyLLhQzMnfAkkjxgNhiMekwU07ylu4/CLgPUD1YFuhXD9GF6QsNwKnKzoq8H/MWyJOlrkhWyhLZnsWcVEIW9lF4rsoSOaENvms3yKTOWh2fSQ2FjOnLMWjM/hevFJLjFSHXQNDz0ngOyOoARjdHsOR4lsIAVkS4NhebjH5uKIaZThurxHXhyQb97A8xMo0RRaEcMoV9DLFZx3BYbqmF8YzjJk+TVf4t8XJhQXRwbcbG84Pq9bQ5ANYsfEIAqh5TGMwxr6YQX7mP0BjFKssz38UdIEvLy6xb68w8XuBncfHhmYpNCmMEw5zFGUIUm2UBSP/Sbvzto6ztra6eWSWUdLIJm37x8QJ1vuAPKHMkiH6KMQzTOcp1fckoYdcgIor+erS2Y4jwtmSa1KiRAo1JMwfc5dwLdMhletRQDUPRQjWlO1EV8EzauMUqSICJVACxQTmtDG6garTao2roH4CyOZddtVJfLaSfJvMDkQpfpqXf4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"test2\"\n        title=\"test2\"\n        src=\"/static/45220499f69218a5bdc9f189b6dd9e3e/533c1/test2.png\"\n        srcset=\"/static/45220499f69218a5bdc9f189b6dd9e3e/772e8/test2.png 200w,\n/static/45220499f69218a5bdc9f189b6dd9e3e/e17e5/test2.png 400w,\n/static/45220499f69218a5bdc9f189b6dd9e3e/533c1/test2.png 576w\"\n        sizes=\"(max-width: 576px) 100vw, 576px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<p>ì„±ê³µí–ˆìŠµë‹ˆë‹¤ ğŸ˜™</p>\n<p>ì´ì œ ìœ„ì˜ withLogin ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤ë©´, ê¶Œí•œì´ í•„ìš”í•œ ìƒí™©ì— ëŒ€í•´ì„œ ë¡œê·¸ì¸ì˜ ì—¬ë¶€ë¥¼ êµ³ì´ ê°€ì ¸ì˜¬ í•„ìš” ì—†ì´ (ì½”ë“œì˜ ì¤‘ë³µì„ ì¤„ì´ê³ ) ë Œë”ë§ í•  UIì— ëŒ€í•´ ì§‘ì¤‘í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤ !</p>\n<p>ì´ë ‡ê²Œ ê°„ë‹¨í•œ ì˜ˆì œ ì´ì™¸ì—ë„ ë°ì´í„° fetchingì˜ ìƒí™©ì— ë”°ë¼ ë¡œë”© ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤„ ê²ƒì¸ì§€, ì•„ë‹ˆë©´ ë°ì´í„°ë¥¼ propsë¡œ ì „ë‹¬í•˜ì—¬ ì›í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•  ê²ƒì¸ì§€ ë“±..., ì—¬ëŸ¬ê°€ì§€ ìƒí™©ì—ì„œ ì“°ì¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>\n<p>ì´ëŸ¬í•œ ë‚´ìš©ë“¤ì„ í•™ìŠµí•˜ë©´ì„œ ë“œëŠ” ìƒê°ì´ì§€ë§Œ ê°œë°œìë¡œì„œ ë¬´ì–¸ê°€ êµ¬í˜„ì„ ìœ„í•´ ë…¸ë ¥í•˜ëŠ” ê²ƒì€ ë‹¹ì—°í•˜ì§€ë§Œ, ê·¸ëŸ¬ë©´ì„œë„ <strong>í•¨ìˆ˜ í˜¹ì€ ëª¨ë“ˆì˜ ì—­í• ì„ ëª…í™•íˆ í•˜ì—¬ ìœ ì§€/ë³´ìˆ˜ ì¸¡ë©´ì—ì„œ ì¢‹ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ ê³ ë¯¼í•˜ëŠ” ê²ƒë„ ì¤‘ìš”í•˜ë‹¤</strong>ë¼ëŠ” ê²ƒì„ ë‹¤ì‹œ í•œë²ˆ ëŠë‚„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤..! ğŸ¤¯</p>","frontmatter":{"date":"October 28, 2021","slug":"/posts/react-hoc","title":"[React] ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ (Higher Order Component)","description":"ğŸ§ 2021.10.28 ê±°ë¶ëª© ìŠ¤í„°ë””, Reactì˜ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¥¼ TDD ë°©ì‹ìœ¼ë¡œ ì¼ë‹¨ ë¶€ë”ªì³ë³´ì. ğŸ˜µâ€ğŸ’«"}}},"pageContext":{"id":"644f99c7-f3d9-501b-a916-0d4db9d7e053","frontmatter__slug":"/posts/react-hoc","__params":{"frontmatter__slug":"posts"}}},
    "staticQueryHashes": []}