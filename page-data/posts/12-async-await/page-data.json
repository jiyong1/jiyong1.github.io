{
    "componentChunkName": "component---src-pages-markdown-remark-frontmatter-slug-tsx",
    "path": "/posts/12-async-await/",
    "result": {"data":{"markdownRemark":{"html":"<p>ES8(ECMAScript 2017)ì—ì„œëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ ë™ì‘í•˜ë„ë¡ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” <code class=\"language-text\">async/await</code>ê°€ ë„ì…ë˜ì—ˆë‹¤.</p>\n<p>async/awaitëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤. async/await ë¥¼ ì‚¬ìš©í•˜ë©´ then, catch, finally í›„ì† ì²˜ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  í•„ìš” ì—†ì´ ë§ˆì¹˜ ë™ê¸° ì²˜ëŸ¼ í”„ë¡œë¯¸ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">asyncFunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// urlì´ ìˆë‹¤ê³  ê°€ì •</span>\n  <span class=\"token comment\">// fetch í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ promise ê°ì²´ê°€ ë°˜í™˜ëœë‹¤.</span>\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> toJson <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>toJson<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">asyncFunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h2>1. async í•¨ìˆ˜</h2>\n<p>await í‚¤ì›Œë“œëŠ” async í•¨ìˆ˜ ë‚´ì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. async í•¨ìˆ˜ëŠ” async í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ì •ì˜í•˜ë©° ì–¸ì œë‚˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤. async í•¨ìˆ˜ê°€ ëª…ì‹œì ìœ¼ë¡œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šë”ë¼ë„ ì•”ë¬µì ìœ¼ë¡œ resolveí•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> n<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1</span></code></pre></div>\n<br>\n<h2>2. await í‚¤ì›Œë“œ</h2>\n<p>await í‚¤ì›Œë“œëŠ” í”„ë¡œë¯¸ìŠ¤ê°€ settled ìƒíƒœ (ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ)ê°€ ë  ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ë‹¤ê°€ settled ìƒíƒœê°€ ë˜ë©´ í”„ë¡œë¯¸ìŠ¤ê°€ resolveí•œ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. await í‚¤ì›Œë“œëŠ” ë°˜ë“œì‹œ í”„ë¡œë¯¸ìŠ¤ ì•ì— ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> x <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'await'ëŠ” ì´ ì‹ì˜ í˜•ì‹ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> c <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 9ì´ˆ í›„ 1 2 3 ì´ ì¶œë ¥ëœë‹¤.</span></code></pre></div>\n<p>ëª¨ë“  í”„ë¡œë¯¸ìŠ¤ì— await í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì£¼ì˜í•´ì•¼ í•œë‹¤. ìœ„ì˜ ì˜ˆì‹œëŠ” ì„œë¡œ ì—°ê´€ì´ ì—†ì–´ ê°œë³„ì ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ì´ë¯€ë¡œ ì•ì˜ ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸°í•  í•„ìš”ê°€ ì—†ë‹¤. ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> all <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>all<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì•½ 3ì´ˆ í›„ [1, 2, 3]ì´ ì¶œë ¥ëœë‹¤.</span></code></pre></div>\n<p>await í‚¤ì›Œë“œëŠ” <strong>ì•ì„  ë¹„ë™ê¸° ì²˜ë¦¬ì˜ ê²°ê³¼ë¥¼ ê°€ì§€ê³  ë‹¤ìŒ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš°</strong> ì‚¬ìš©í•˜ì—¬ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê²Œ í•˜ëŠ” ê²ƒì´ë‹¤.</p>\n<br>\n<h2>3. ì—ëŸ¬ ì²˜ë¦¬</h2>\n<p>ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ì½œë°± íŒ¨í„´ì˜ ë‹¨ì  ì¤‘ í•˜ë‚˜ëŠ” ì—ëŸ¬ ì²˜ë¦¬ê°€ ê³¤ë€í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤. ì—ëŸ¬ëŠ” <strong>í˜¸ì¶œì</strong> ë°©í–¥ìœ¼ë¡œ ì „íŒŒëœë‹¤. ì¦‰, ì½œ ìŠ¤íƒì˜ ì•„ë˜ ë°©í–¥ìœ¼ë¡œ ì „íŒŒëœë‹¤. í•˜ì§€ë§Œ ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì½œë°± í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— try catchë¬¸ì„ ì‚¬ìš©í•´ ì—ëŸ¬ë¥¼ ìºì¹˜í•  ìˆ˜ ì—†ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ì—ëŸ¬ë¥¼ ìºì¹˜í•˜ì§€ ëª»í•œë‹¤.</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ì—ëŸ¬ ì¡ì•˜ë‹¤'</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/*\nC:\\Users\\ji yong kim\\Desktop\\js\\test.js:3\n        throw new Error('hi');\n        ^\n\nError: hi\n    at Timeout._onTimeout (C:\\Users\\ji yong kim\\Desktop\\js\\test.js:3:15)\n    at listOnTimeout (internal/timers.js:554:17)\n    at processTimers (internal/timers.js:497:7)\n*/</span></code></pre></div>\n<br>\n<p>async/awaitì—ì„œ ì—ëŸ¬ ì²˜ë¦¬ëŠ” ìœ„ì™€ ë‹¤ë¥´ê²Œ try catchë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì™€ ë‹¤ë¥´ê²Œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í˜¸ì¶œìê°€ ëª…í™•í•˜ë‹¤.</p>\n<p>ë˜í•œ async í•¨ìˆ˜ ë‚´ì—ì„œ <strong>try catch ë¬¸ì„ ì‚¬ìš©í•´ì„œ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šìœ¼ë©´ async í•¨ìˆ˜ëŠ” ë°œìƒí•œ ì—ëŸ¬ë¥¼ rejectí•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.</strong> ë”°ë¼ì„œ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œ catchë¥¼ ì‚¬ìš©í•´ ì—ëŸ¬ë¥¼ ìºì¹˜í•  ìˆ˜ë„ ìˆë‹¤.</p>","frontmatter":{"date":"May 08, 2021","slug":"/posts/12-async-await","title":"[JavaScript] async/await","description":"(ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ deep dive) ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ async/awaitì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤ ! ğŸ¤“"}}},"pageContext":{"id":"bd81efe9-e833-59cb-8fd8-58cb83b8996a","frontmatter__slug":"/posts/12-async-await","__params":{"frontmatter__slug":"posts"}}},
    "staticQueryHashes": []}